
    <html>
    <head>
        <link rel="stylesheet" href="common/common.css">
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="common/load-common-parts.js"></script>
        <div id="header"></div>
    </head>
    <body>
    <title>切抜き候補一覧</title>

    @ooharaMEN</br>
<a href="../index.html">homeへ戻る</a></br>
        フィルタ条件（複合And検索も可）</br>
        動画タイトル：</br>
        <form name="searchForm" class="search_container">
        <input type="text" id="search" placeholder="　例：アツクラ" name="searchWord"></br>
        公開日（yyyymmdd）：</br>
        <input type="text" id="search_date" name="searchDate"></br>
        <select id="search_date_select" name="searchDateSelect">
        <option value="" selected></option>
        <option value="28">28</option><option value="25">25</option><option value="10">10</option><option value="26">26</option><option value="23">23</option><option value="07">07</option><option value="15">15</option><option value="27">27</option><option value="08">08</option><option value="30">30</option><option value="04">04</option><option value="12">12</option><option value="13">13</option><option value="29">29</option><option value="01">01</option><option value="02">02</option><option value="03">03</option><option value="05">05</option><option value="06">06</option><option value="09">09</option><option value="11">11</option><option value="14">14</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="22">22</option><option value="24">24</option><option value="31">31</option><option value="21">21</option>
        </select>
        ユーザ：</br>
        <label><input type="checkbox" name="checkItem" value="@QnlyQ" checked />@QnlyQ</label>
<label><input type="checkbox" name="checkItem" value="@ORAFKUN" checked />@ORAFKUN</label>
<label><input type="checkbox" name="checkItem" value="@dozle_sub" checked />@dozle_sub</label>
<label><input type="checkbox" name="checkItem" value="@ooharaMEN" checked />@ooharaMEN</label>
<label><input type="checkbox" name="checkItem" value="@bonj55" checked />@bonj55</label>
<label><input type="checkbox" name="checkItem" value="@dozle" checked />@dozle</label>
<input type="button" value="全てチェックON" id="all_check_on_button"><input type="button" value="全てチェックOFF" id="all_check_off_button"></br>
        <input type="button" value="絞り込む" id="search_button"> <input type="button" value="クリア" id="search_button2">
        </form>
        <table id="result" border=1 class="design01">
	    <thead>
        <tr><th>公開日</th><th>ユーザ</th><th>動画ID</th><th>分析ページ</th></tr>
        </thead>
        <tbody>
        <td>20230728</td><td>@ooharaMEN</td><td><a href="https://www.youtube.com/watch?v=137ajfOwuKc">137ajfOwuKc</td><td><img src="http://img.youtube.com/vi/137ajfOwuKc/default.jpg"></br><a href="../detail/20230728/@ooharaMEN/137ajfOwuKc/137ajfOwuKc.html">【マイクラ】鬼畜サイコロの世界でエンドラ討伐！【おおはらMEN視点】</a></td></tr>
</tbody></table>

    <script>
    $(function(){
    
        $('#all_check_on_button').bind("click",function(){
            var checkboxes = document.querySelectorAll('input[name="checkItem"]');
            for (let i = 0; i < checkboxes.length; i++) {
                checkboxes[i].checked = true;
            }
            document.getElementById('search_button').click();//検索ボタンのイベントを呼び出し
        });
        $('#all_check_off_button').bind("click",function(){
            var checkboxes = document.querySelectorAll('input[name="checkItem"]');
            for (let i = 0; i < checkboxes.length; i++) {
                checkboxes[i].checked = false;
            }
            document.getElementById('search_button').click();//検索ボタンのイベントを呼び出し
        });
        
        $('#search_button').bind("click",function(){
            const selectedValuesList = [];
            var selectedUser = '';

            var checkboxes = document.querySelectorAll('input[name="checkItem"]:checked');
            for (let i = 0; i < checkboxes.length; i++) {
                selectedValuesList.push(checkboxes[i].value);
            }
            selectedUser = '(' + selectedValuesList.join("|") + ')';
            

            var reTitle = new RegExp($('#search').val());
            var reDate = new RegExp($('#search_date').val());
            var reDateSelect = new RegExp($('#search_date_select').val());
            $('#result tbody tr').each(function(){
                var txtTitle = $(this).find("td:eq(3)").html();
                var txtDate = $(this).find("td:eq(0)").html();
                var txtUser = $(this).find("td:eq(1)").html();
                if(($('#search').val() == '' || txtTitle.match(reTitle) != null) && ($('#search_date').val() == '' || txtDate.match(reDate) != null) && ($('#search_date_select').val() == '' || txtDate.match(reDateSelect) != null) && (selectedUser == '()' || txtUser.match(selectedUser) != null)){
                    $(this).show();
                }else{
                    $(this).hide();
                }
            });
        });
        $('#search_button2').bind("click",function(){
            $('#search').val('');
            $('#search_date').val('');
            var checkboxes = document.querySelectorAll('input[name="checkItem"]');
            for (let i = 0; i < checkboxes.length; i++) {
                checkboxes[i].checked = true;
            }
            $('#result tr').show();
        });
        $('#date_button').bind("click",function(){
            var reDate = new RegExp($('#search_date').val());
            $('#result tbody tr').each(function(){
                var txtDate = $(this).find("td:eq(1)").html();
                if(txtDate.match(reDate) != null){
                    $(this).show();
                }else{
                    $(this).hide();
                }
            });
        });
        $('#date_button2').bind("click",function(){
            $('#search_date').val('');
            $('#result tr').show();
        });

        const inputSearchWord = document.forms.searchForm.searchWord; //document.formsでformの中身を取得,さらに後ろの記述で細かく指定できる
        const inputSearchDate = document.forms.searchForm.searchDate; //document.formsでformの中身を取得,さらに後ろの記述で細かく指定できる
        
        //検索ワードが入力されたら検索ボタン押したときのイベントを実行
        inputSearchWord.addEventListener('input',()=>{     //inputSearchWordにinputがされたら
        document.getElementById('search_button').click();//検索ボタンのイベントを呼び出し
        })
        //検索日付が入力されたら検索ボタン押したときのイベントを実行
        inputSearchDate.addEventListener('input',()=>{     //inputSearchDateにinputがされたら
        document.getElementById('search_button').click();//検索ボタンのイベントを呼び出し
        })

        //チェックボックスが変更されたらリアルタイムで反映
        let targets = document.querySelectorAll('input[name="checkItem"]');
        for (let target of targets) {
            target.addEventListener('change', function () {
                    document.getElementById('search_button').click();//検索ボタンのイベントを呼び出し
                });
        }

        let select = document.querySelector('[name="searchDateSelect"]');
        select.onchange = event => { 
        document.getElementById('search_button').click();//検索ボタンのイベントを呼び出し
        }


    });
    </script>
    </body>
    </html>
    